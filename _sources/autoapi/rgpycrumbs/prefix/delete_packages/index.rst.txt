rgpycrumbs.prefix.delete_packages
=================================

.. py:module:: rgpycrumbs.prefix.delete_packages


Attributes
----------

.. autoapisummary::

   rgpycrumbs.prefix.delete_packages.log
   rgpycrumbs.prefix.delete_packages.BASE_URL
   rgpycrumbs.prefix.delete_packages.PLATFORMS


Functions
---------

.. autoapisummary::

   rgpycrumbs.prefix.delete_packages.get_packages_to_delete
   rgpycrumbs.prefix.delete_packages.delete_package
   rgpycrumbs.prefix.delete_packages.main


Module Contents
---------------

.. py:data:: log

.. py:data:: BASE_URL
   :value: 'https://prefix.dev'


.. py:data:: PLATFORMS
   :value: ['linux-64', 'osx-64', 'osx-arm64', 'win-64', 'linux-aarch64', 'noarch']


.. py:function:: get_packages_to_delete(channel, package_name, version_regex)

   Fetches repodata.json for all platforms and finds packages matching the name and version.
   Returns a list of tuples: (platform, filename).


.. py:function:: delete_package(session, channel, platform, filename, dry_run=False)

   Sends a DELETE request for a single package file.


.. py:function:: main(channel, package_name, api_key, version_regex, dry_run)

   Finds and deletes all versions of a package from a prefix.dev channel.


